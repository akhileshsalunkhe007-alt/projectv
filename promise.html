<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Promise Day ü§ç</title>

<style>
body{
  margin:0;
  min-height:100vh;
  display:flex;
  justify-content:center;
  align-items:center;
  background:radial-gradient(circle at top, #1a1a1a, #000);
  font-family:'Segoe UI', sans-serif;
  color:white;
}

.container{
  width:95%;
  max-width:900px;
  background:#111;
  border-radius:22px;
  box-shadow:0 0 35px rgba(255,0,0,0.25);
  padding:24px;
  display:flex;
  gap:36px;
  flex-wrap:wrap;
}

/* IMAGE */
.image-box{
  flex:1 1 100%;
  display:flex;
  justify-content:center;
}

.image-box img{
  width:100%;
  max-width:420px;
  height:auto;
  aspect-ratio: 4 / 5;
  object-fit: cover;
  border-radius:18px;
  cursor:pointer;
  box-shadow:
    0 0 25px rgba(255,120,120,0.4),
    0 0 45px rgba(255,80,80,0.25);
  transition: transform 0.4s ease, box-shadow 0.4s ease;
}
  
.image-box img.active{
  transform: scale(1.03);
  box-shadow:
    0 0 35px rgba(255,140,140,0.7),
    0 0 65px rgba(255,90,90,0.45);
}

/* TEXT */
.text-box{
  flex:1 1 100%;
  font-size:18px;
  line-height:1.9;
  text-shadow:0 0 10px rgba(255,0,0,0.6);
}

.line{
  opacity:0;
  transition: opacity 1.2s ease;
  margin-bottom:10px;
}

.line.final{
  font-size:22px;
  color:#ff9a9a;
  text-shadow: 0 0 18px rgba(255,120,120,0.9);
}

/* DESKTOP LAYOUT */
@media (min-width: 768px){
  .image-box{
    flex:1;
  }
  .text-box{
    flex:1.2;
    font-size:20px;
  }
}

@media (max-width: 480px){
  .image-box img{
    max-width:100%;
  }

  .text-box{
    font-size:17px;
    line-height:1.8;
  }
}

</style>
</head>

<body>

<audio id="music">
  <source src="yeh_vaada_raha.mp3" type="audio/mpeg">
</audio>

<div class="container">

  <div class="image-box">
    <img src="selfie.jpg" id="startImage" alt="Us together">
  </div>

  <div class="text-box">
    <div class="line">We turned from friends to lovers,</div>
    <div class="line">and somewhere along the way, our bond became something special.</div>
    <div class="line">So today, I don‚Äôt want to promise big things.</div>
    <div class="line">I just want to make you one simple promise.</div>
    <div class="line">I promise to be there for you,</div>
    <div class="line">in the highs, in the lows,</div>
    <div class="line">even on the days we don‚Äôt agree.</div>
    <div class="line">No matter what, I will always show up.</div>
    <div class="line final" id="finalLine">Yeh vaada raha.</div>
  </div>

</div>

<script>
const allLines = document.querySelectorAll('.line');
const finalLine = document.getElementById('finalLine');
const music = document.getElementById('music');
const image = document.getElementById('startImage');

let started = false;
let index = 0;

// Exclude final line from normal reveal
const lines = Array.from(allLines).filter(line => line !== finalLine);

music.volume = 0.35;

function revealNext(){
  if(index < lines.length){
    lines[index].style.opacity = 1;
    index++;
    setTimeout(revealNext, 1800);
  }
}

image.addEventListener('click', () => {
  if(started) return;
  started = true;

  image.classList.add('active');
  music.play();

  setTimeout(revealNext, 1200);
});

// üî• FINAL LINE ‚Äî ONLY via song timing
music.addEventListener("timeupdate", () => {
  if(music.currentTime >= 34 && finalLine.style.opacity !== "1"){
    finalLine.style.opacity = 1;
  }
});
</script>

</body>
</html>
